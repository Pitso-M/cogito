from langchain_text_splitters import PythonCodeTextSplitter

# sample python code as a string
sample_code = """
def greet(name):
    print("hello " + name)

def add(a, b):
    return a + b

class Dog:
    def __init__(self, name):
        self.name = name

    def bark(self):
        print("woof!")

def main():
    greet("alice")
    result = add(1, 2)
    dog = Dog("rex")
    dog.bark()
"""

# create the splitter
splitter = PythonCodeTextSplitter(chunk_size=100, chunk_overlap=0)

# split the code
chunks = splitter.create_documents([sample_code])

# view results
for i, chunk in enumerate(chunks):
    print(f"--- chunk {i+1} ---")
    print(chunk.page_content)