from langchain_text_splitters import RecursiveCharacterTextSplitter, Language

# sample javascript code as a string
sample_code = """
function greet(name) {
    console.log("hello " + name);
}

function add(a, b) {
    return a + b;
}

class Dog {
    constructor(name) {
        this.name = name;
    }

    bark() {
        console.log("woof!");
    }
}

function main() {
    greet("alice");
    const result = add(1, 2);
    const dog = new Dog("rex");
    dog.bark();
}
"""

# create the splitter specifying javascript language
splitter = RecursiveCharacterTextSplitter.from_language(
    language=Language.JS, chunk_size=100, chunk_overlap=0
)

# split the code
chunks = splitter.create_documents([sample_code])

# view results
for i, chunk in enumerate(chunks):
    print(f"--- chunk {i+1} ---")
    print(chunk.page_content)